<div class="details-container" *ngIf="unit">
  <!-- Header -->
  <div class="details-header">
    <div>
      <a [routerLink]="['/buildings', unit.buildingId]" class="breadcrumb">{{
        unit.buildingName
      }}</a>
      <span class="separator">›</span>
      <h2>Unit {{ unit.unitNumber }}</h2>
    </div>
    <div class="header-actions">
      <button class="btn btn-secondary" (click)="edit()">Edit</button>
      <button class="btn btn-danger" (click)="confirmDelete()">Delete</button>
    </div>
  </div>

  <!-- Info section -->
  <section>
    <h3>Information</h3>
    <div class="info-grid">
      <div>
        <label>Unit Number</label>
        <span>{{ unit.unitNumber }}</span>
      </div>
      <div>
        <label>Floor</label>
        <span>{{ unit.floor }}</span>
      </div>
      <div *ngIf="unit.landingNumber">
        <label>Landing</label>
        <span>{{ unit.landingNumber }}</span>
      </div>
      <div *ngIf="unit.totalSurface">
        <label>Total Surface</label>
        <span>{{ unit.totalSurface }} m²</span>
      </div>
      <div>
        <label>Owner</label>
        <span>{{ unit.ownerName ?? "—" }}</span>
      </div>
      <div *ngIf="unit.hasTerrace">
        <label>Terrace</label>
        <span>
          {{ unit.terraceSurface ? unit.terraceSurface + " m²" : "—" }}
          {{ unit.terraceOrientation ? " · " + unit.terraceOrientation : "" }}
        </span>
      </div>
      <div *ngIf="unit.hasGarden">
        <label>Garden</label>
        <span>
          {{ unit.gardenSurface ? unit.gardenSurface + " m²" : "—" }}
          {{ unit.gardenOrientation ? " · " + unit.gardenOrientation : "" }}
        </span>
      </div>
    </div>
  </section>

  <!-- Rooms section — UC003 -->
  <section>
    <app-room-section [unitId]="unit.id"></app-room-section>
  </section>

  <!-- PEB section — UC004 -->
  <section>
    <app-peb-section [unitId]="unit.id"></app-peb-section>
  </section>

  <!-- Rent section — UC005 -->
  <section>
    <app-rent-section [unitId]="unit.id"></app-rent-section>
  </section>

  <!-- Water Meter placeholder — UC006 -->
  <section>
    <div class="section-header">
      <button class="btn btn-sm" disabled title="Available in UC006">
        Add Meter
      </button>
    </div>
    <app-water-meter-section [unitId]="unit.id"></app-water-meter-section>
  </section>
</div>
