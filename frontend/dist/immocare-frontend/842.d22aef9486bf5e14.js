"use strict";(self.webpackChunkimmocare_frontend=self.webpackChunkimmocare_frontend||[]).push([[842],{461:(b,l,a)=>{a.r(l),a.d(l,{LoginComponent:()=>h});var d=a(177),i=a(4341),n=a(4438),u=a(5524),g=a(7282);function m(r,s){1&r&&(n.j41(0,"div",14),n.EFF(1," \u26a0\ufe0f You are using the default admin account. Please change your password after login. "),n.k0s())}function c(r,s){1&r&&(n.j41(0,"span",15),n.EFF(1,"Username is required"),n.k0s())}function f(r,s){1&r&&(n.j41(0,"span",15),n.EFF(1,"Password is required"),n.k0s())}function p(r,s){if(1&r&&(n.j41(0,"div",16),n.EFF(1),n.k0s()),2&r){const o=n.XpG();n.R7$(),n.JRh(o.authError)}}let h=(()=>{class r{constructor(o,e,t){this.fb=o,this.authService=e,this.router=t,this.loading=!1,this.authError=null,this.showDefaultWarning=!1}ngOnInit(){this.loginForm=this.fb.group({username:["",i.k0.required],password:["",i.k0.required]}),this.authService.isAuthenticated().subscribe(o=>{o&&this.router.navigate(["/"])})}onSubmit(){if(this.loginForm.invalid)return void this.loginForm.markAllAsTouched();this.loading=!0,this.authError=null;const{username:o,password:e}=this.loginForm.value;this.showDefaultWarning="admin"===o,this.authService.login(o,e).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/"])},error:()=>{this.loading=!1,this.authError="Invalid username or password. Please try again."}})}hasError(o){const e=this.loginForm.get(o);return!!(e&&e.invalid&&e.touched)}static{this.\u0275fac=function(e){return new(e||r)(n.rXU(i.ok),n.rXU(u.u),n.rXU(g.Ix))}}static{this.\u0275cmp=n.VBU({type:r,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:21,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-subtitle"],["class","warning-banner",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["id","username","type","text","formControlName","username","autocomplete","username","placeholder","Enter username"],["class","field-error",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","autocomplete","current-password","placeholder","Enter password"],["class","auth-error",4,"ngIf"],["type","submit",1,"btn-login",3,"disabled"],[1,"warning-banner"],[1,"field-error"],[1,"auth-error"]],template:function(e,t){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"h1",2),n.EFF(3,"ImmoCare"),n.k0s(),n.j41(4,"p",3),n.EFF(5,"Property Management"),n.k0s(),n.DNE(6,m,2,0,"div",4),n.j41(7,"form",5),n.bIt("ngSubmit",function(){return t.onSubmit()}),n.j41(8,"div",6)(9,"label",7),n.EFF(10,"Username"),n.k0s(),n.nrm(11,"input",8),n.DNE(12,c,2,0,"span",9),n.k0s(),n.j41(13,"div",6)(14,"label",10),n.EFF(15,"Password"),n.k0s(),n.nrm(16,"input",11),n.DNE(17,f,2,0,"span",9),n.k0s(),n.DNE(18,p,2,1,"div",12),n.j41(19,"button",13),n.EFF(20),n.k0s()()()()),2&e&&(n.R7$(6),n.Y8G("ngIf",t.showDefaultWarning),n.R7$(),n.Y8G("formGroup",t.loginForm),n.R7$(4),n.AVh("error",t.hasError("username")),n.R7$(),n.Y8G("ngIf",t.hasError("username")),n.R7$(4),n.AVh("error",t.hasError("password")),n.R7$(),n.Y8G("ngIf",t.hasError("password")),n.R7$(),n.Y8G("ngIf",t.authError),n.R7$(),n.Y8G("disabled",t.loading),n.R7$(),n.SpI(" ",t.loading?"Signing in\u2026":"Sign in"," "))},dependencies:[d.MD,d.bT,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f5f5}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2.5rem;border-radius:8px;box-shadow:0 2px 12px #0000001a;width:100%;max-width:400px}.login-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin:0 0 .25rem;color:#1a1a2e}.login-subtitle[_ngcontent-%COMP%]{color:#666;margin:0 0 1.5rem;font-size:.9rem}.warning-banner[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffc107;border-radius:4px;padding:.75rem 1rem;font-size:.85rem;margin-bottom:1.25rem;color:#856404}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;margin-bottom:.4rem;color:#333}input[_ngcontent-%COMP%]{padding:.6rem .75rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;transition:border-color .2s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4a6fa5}input.error[_ngcontent-%COMP%]{border-color:#dc3545}.field-error[_ngcontent-%COMP%]{font-size:.8rem;color:#dc3545;margin-top:.25rem}.auth-error[_ngcontent-%COMP%]{background:#f8d7da;border:1px solid #f5c6cb;border-radius:4px;padding:.6rem .75rem;font-size:.875rem;color:#721c24;margin-bottom:1rem}.btn-login[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#4a6fa5;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){background:#3a5f95}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}"]})}}return r})()}}]);